/**
 * Pierre admin CSS — minimal, natif, moderne (WP 6.5)
 */
:root {
  /* Spacing scale (8px base unit) */
  --pierre-space-8: 8px;
  --pierre-space-12: 12px;
  --pierre-space-16: 16px;
  --pierre-space-24: 24px;
  /* Border and radius tokens */
  --pierre-border: 1px solid #dcdcde;
  --pierre-radius: 4px;
}

/* Tabs */
.pierre-tab-section { display: none; margin-top: var(--pierre-space-12); }
.pierre-tab-section.is-active { display: block; }
.pierre-tab-section .pierre-grid { gap: var(--pierre-space-16); }

/* Cards */
.pierre-card {
  background: #fff;
  border: var(--pierre-border);
  border-radius: var(--pierre-radius);
  padding: var(--pierre-space-16);
  margin: var(--pierre-space-16) 0;
}
.pierre-card > h2:first-child { margin-top: 0; }
/* Headings inside cards */
.pierre-card h2 { font-size: 1.125rem; line-height: 1.4; }
.pierre-card h3 { margin-top: var(--pierre-space-16); margin-bottom: var(--pierre-space-8); font-size: 1rem; line-height: 1.4; font-weight: 600; }
.pierre-card h3:first-child { margin-top: 0; }
/* Danger helper */
.pierre-danger { color: #b32d2e; font-weight: 600; }
/* Danger buttons */
.pierre-button-danger.button {
  background: #d63638; /* WP danger */
  border-color: #a0282a;
  color: #fff;
}
.pierre-button-danger.button:hover,
.pierre-button-danger.button:focus {
  background: #b32d2e;
  border-color: #8a1f21;
  color: #fff;
}

/* Grid */
.pierre-grid { display: grid; gap: var(--pierre-space-16); }
.pierre-grid--cards { grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); }
.pierre-grid--single { grid-template-columns: 1fr; }
.pierre-row { display: flex; gap: var(--pierre-space-12); align-items: center; flex-wrap: wrap; }
.pierre-flex-spacer { flex: 1 1 auto; }
.pierre-checkbox-group { display:flex; flex-wrap: wrap; gap: 8px 16px; margin-top: 6px; }

/* Forms (compact par défaut) */
.pierre-form-compact { max-width: 480px; }
.pierre-form-compact .regular-text { width: 100%; max-width: 100%; }
.pierre-form-compact .pierre-form-group { margin-bottom: var(--pierre-space-12); }
.pierre-help { color: #646970; font-size: 12px; margin-top: 4px; }

/* Wide sections/forms (no card look) */
.pierre-section { margin: var(--pierre-space-16) 0; }
.pierre-section--header { background: #fff; border: var(--pierre-border); border-radius: var(--pierre-radius); padding: var(--pierre-space-16); }
.pierre-section--body-wide { background: transparent; border: 0; border-radius: 0; padding: 0; }
.pierre-form-wide { max-width: none; width: 100%; }
.pierre-form-wide .regular-text, .pierre-form-wide textarea, .pierre-form-wide select { width: 100%; max-width: 760px; }
.pierre-form-actions { margin-top: var(--pierre-space-12); }
.pierre-form-wide .pierre-form-group { margin-bottom: var(--pierre-space-12); }

/* Modal + overlay */
.pierre-overlay { position: fixed; top:0; left:0; right:0; bottom:0; background: rgba(0,0,0,0.7); z-index: 99999; display: none; }
/* Modal centering: uses transform translate(-50%, -50%) with top:50% left:50% for perfect centering */
.pierre-modal { position: fixed; top:50%; left:50%; transform: translate(-50%, -50%); background:#fff; padding: var(--pierre-space-16); border: var(--pierre-border); box-shadow: 0 2px 10px rgba(0,0,0,0.2); z-index: 100000; max-width: 680px; width: 90%; display: none; border-radius: var(--pierre-radius); }

/* Status colors */
.pierre-status-ok { color: #0a7d00; font-weight: 600; }
.pierre-status-ko { color: #b32d2e; font-weight: 600; }

/* Locales Discovery */
.pierre-locales-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: var(--pierre-space-16);
  margin-top: var(--pierre-space-12);
}
.pierre-locale-card {
  display: block;
  border: var(--pierre-border);
  border-radius: var(--pierre-radius);
  background: #fff;
  padding: var(--pierre-space-12);
}
.pierre-locale-card.is-disabled { opacity: 0.6; }
.pierre-locale-note { margin-top: 6px; font-size: 12px; color: #646970; }
.pierre-locale-card input[type="checkbox"] { margin-right: 6px; }
.pierre-locale-badges { display: none; }
.pierre-badge {
  display: inline-block;
  font-size: 11px;
  line-height: 1.8;
  padding: 0 8px;
  border-radius: 999px;
  border: 1px solid #dcdcde;
  color: #1d2327;
  background: #f6f7f7;
}
.pierre-badge.is-active { background: #e6ffed; border-color: #b7e3c0; color: #084c2e; }
.pierre-badge.is-inactive { background: #fff3cd; border-color: #ffe08a; color: #7a5b00; }
.pierre-badge.is-slack-direct { background: #eef2ff; border-color: #c7d2fe; color: #2536a3; }
.pierre-badge.is-slack-directory { background: #f6f7f7; }
.pierre-locale-actions { margin-top: 8px; font-size: 12px; display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
.pierre-locale-actions--row { width: 100%; }
.pierre-locale-actions .is-muted { color: #646970; opacity: 0.7; }
.pierre-copy.is-copied { text-decoration: underline; }
.pierre-locale-actions .button-link { padding: 0; }
.pierre-locales-actions { margin-top: var(--pierre-space-12); }

/* Tables (utiliser .wp-list-table côté markup) */
.pierre-card .wp-list-table { margin-top: var(--pierre-space-12); }
.pierre-card .tablenav { margin: var(--pierre-space-12) 0; }

/* Spacing utils (parcimonieux) */
.pierre-mt-16 { margin-top: var(--pierre-space-16); }
.pierre-mb-16 { margin-bottom: var(--pierre-space-16); }
.pierre-mt-8 { margin-top: var(--pierre-space-8); }
.pierre-mb-8 { margin-bottom: var(--pierre-space-8); }
.pierre-ml-8 { margin-left: var(--pierre-space-8); }
.pierre-list { margin-left: 18px; }
.pierre-list ul, .pierre-list { list-style: disc; }
.pierre-preview-box { min-height: 120px; background:#f6f7f7; border:1px solid #dcdcde; padding:12px; overflow:auto; }

/* Vertical align helpers */
.pierre-va-middle { vertical-align: middle; }

/* Accessibilité */
/* Visually hidden pattern: hides content visually but keeps it accessible to screen readers */
.pierre-visually-hidden {
  position: absolute !important; width: 1px; height: 1px; padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0;
}

/* Fieldset utility (replace inline styles) */
.pierre-fieldset {
  border: 1px solid #e2e2e2;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: var(--pierre-radius);
}

/* Settings API field errors */
.pierre-form-group--error {
  margin-bottom: var(--pierre-space-16);
}

.pierre-field-error {
  border-color: #d63638 !important;
  box-shadow: 0 0 0 1px #d63638;
}

.pierre-field-error:focus {
  border-color: #d63638;
  box-shadow: 0 0 0 1px #d63638;
  outline: 2px solid transparent;
  outline-offset: 2px;
}

.pierre-field-error-message {
  margin-top: 6px;
  margin-bottom: 0;
}

.pierre-error-text {
  color: #d63638;
  font-size: 12px;
  margin: 0;
  padding: 0;
  line-height: 1.5;
}

.pierre-error-text:not(:last-child) {
  margin-bottom: 4px;
}

/* Settings API sections styling */
.form-table th,
.form-table td {
  padding: 10px 0;
}

.form-table th {
  font-weight: 600;
  width: 200px;
}

/* Ensure Settings API fields match our design */
.pierre-form-group label {
  display: block;
  font-weight: 600;
  margin-bottom: 4px;
}

.pierre-form-group input[type="checkbox"] + label,
.pierre-form-group label > input[type="checkbox"] {
  font-weight: normal;
  display: inline;
  margin-bottom: 0;
}

.pierre-form-group select,
.pierre-form-group input[type="text"],
.pierre-form-group input[type="number"],
.pierre-form-group input[type="time"] {
  margin-top: 4px;
}

/* Radio buttons styling */
.pierre-form-group fieldset[role="radiogroup"] {
  border: 0;
  padding: 0;
  margin: 0;
}

.pierre-form-group fieldset[role="radiogroup"] label {
  display: inline-flex;
  align-items: center;
  font-weight: normal;
  margin-bottom: 8px;
  margin-right: var(--pierre-space-16);
}

.pierre-form-group fieldset[role="radiogroup"] input[type="radio"] {
  margin-right: 6px;
}
